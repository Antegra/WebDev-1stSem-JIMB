import{_ as pe,r as p,d as me,e as F,o as u,c as _,w as C,v as j,u as i,b as e,t as r,f as m,F as g,g as y,n as z,i as R,h as G,j as ve,p as be,a as he,k as fe}from"./index.f8749431.js";import{A as x}from"./connection.10a8ac85.js";const c=w=>(be("data-v-7a7a3c5e"),w=w(),he(),w),ge={class:"section-wrapper"},ye={class:"register"},xe={class:"progress_bar"},ke={class:"1 bobble active"},Ce=c(()=>e("p",null,"1",-1)),Se=c(()=>e("p",null,"2",-1)),Le=c(()=>e("p",null,"3",-1)),je=c(()=>e("p",null,"4",-1)),we={class:"form-group-1"},$e={class:"form-group-1-1 form-style"},Ee=["value"],qe=c(()=>e("p",{class:"alert_text alert_1"},"* Du mangler at udfylde noget her.",-1)),Ae={class:"form-group-1-2 form-style"},Ie=["onClick","id"],Ne={class:"navigation-group"},Te={class:"next"},De={class:"register",id:"sec-step"},Oe={class:"progress_bar"},Me=c(()=>e("p",null,"1",-1)),Be={class:"2 bobble active"},Je=c(()=>e("p",null,"2",-1)),Pe=c(()=>e("p",null,"3",-1)),Ve=c(()=>e("p",null,"4",-1)),Ue=c(()=>e("p",{class:"alert_text alert_2"},"* Du mangler at udfylde noget her.",-1)),Fe={class:"form-group-2-1 form-style"},ze=["onClick","id"],Re={class:"seperator"},Ge=c(()=>e("p",{class:"alert_text alert_3"},"* Du mangler at udfylde noget her.",-1)),He={class:"form-group-2-2 form-style"},Ke=["onClick","id"],Qe={class:"navigation-group"},We={class:"back"},Xe=c(()=>e("div",{class:"seperatordiv"},null,-1)),Ye={class:"next"},Ze={class:"register"},et={class:"progress_bar"},tt=c(()=>e("p",null,"1",-1)),st=c(()=>e("p",null,"2",-1)),ot={class:"3 bobble active"},nt=c(()=>e("p",null,"3",-1)),lt=c(()=>e("p",null,"4",-1)),it=c(()=>e("p",{class:"alert_text alert_4"},"* Du mangler at udfylde noget her.",-1)),at={class:"form-group-3-1 form-style"},rt=["id","onClick"],ct=c(()=>e("h2",{class:"seperator"},"Uddannelser",-1)),dt=c(()=>e("p",{class:"alert_text alert_5"},"* Du mangler at udfylde noget her.",-1)),ut={class:"educations form-group-3-2 form-style"},_t=["onClick","id"],pt=c(()=>e("span",null,"Fast",-1)),mt={class:"search-box position-fix"},vt={class:"educations loadbtn"},bt=["id","onClick"],ht={class:"navigation-group"},ft={class:"back"},gt=c(()=>e("div",{class:"seperatordiv"},null,-1)),yt={class:"next"},xt={class:"spinner"},kt=c(()=>e("div",{class:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")],-1)),Ct=c(()=>e("p",null,"Opretter sagen",-1)),St=[kt,Ct],Lt={class:"register gone form-group-4"},jt={class:"progress_bar"},wt=c(()=>e("p",null,"1",-1)),$t=c(()=>e("p",null,"2",-1)),Et=c(()=>e("p",null,"3",-1)),qt={class:"4 bobble active"},At=c(()=>e("p",null,"4",-1)),It={class:"search-box"},Nt=c(()=>e("p",{class:"alert_text alert_6"},"* Du mangler at udfylde noget her.",-1)),Tt={class:"educations form-group-4-1 form-style"},Dt={class:"subjects"},Ot={id:"subject_icon"},Mt={id:"subject_test"},Bt=["id","onClick"],Jt=c(()=>e("h2",{class:"seperator"},"Samtalens l\xE6ngde",-1)),Pt=c(()=>e("p",{class:"alert_text alert_7"},"* Du mangler at udfylde noget her.",-1)),Vt={class:"form-group-4-2 form-style"},Ut=["id","onClick"],Ft={class:"navigation-group"},zt={class:"back"},Rt=c(()=>e("div",{class:"seperatordiv"},null,-1)),Gt={class:"next"},Ht={__name:"multi_step_form",setup(w){let k=JSON.parse(localStorage.getItem("user-token")),v=p(1),l={month:"",type:0,sex:0,niveau:0,locations:k[0].location_id,educations:[],subject:[],duration:0,user_id:k[0].user_id},q="M\xE5ned & type",A="K\xF8n & studiestatus",I="Lokation & uddannelser",N="Emner & tid",H=p("Angiv m\xE5ned"),D=p([{name:"Januar",id:0},{name:"Februar",id:1},{name:"Marts",id:2},{namae:"April",id:3},{name:"Maj",id:4},{name:"Juni",id:5},{name:"Juli",id:6},{name:"August",id:7},{name:"September",id:8},{name:"Oktober",id:9},{name:"November",id:10},{name:"December",id:11}]);const S=new Date;let K=S.toISOString().substring(0,10),O=p([]);l.month=K,O=[D.value[S.getMonth()],D.value[S.getMonth()-1],D.value[S.getMonth()-2]];let Q=p("Type henvendelse"),M=p([]),W=p("Hvem blev vejledt?"),B=p([]),X=p("Studie status"),Y=p([{id:10,name:"Nuv\xE6rende studerende"},{id:20,name:"Potentielle studerende"}]),Z=p("Uddannelsested"),$=p(""),J=p([]),P=p([]),E=p([]);if(k[0].edu_id.length>1){let o=k[0].edu_name.split(","),s=k[0].edu_id.split(","),t=[];for(let d=0;d<s.length;d++)t.push(Number(s[d]));let a=t.sort(function(d,b){return d-b});for(let d=0;d<a.length;d++)E.value.push({id:a[d],name:o[d]})}else{let o=k[0].edu_name,s=k[0].edu_id;for(let t=0;t<s.length;t++)E.value.push({id:s,name:o})}let ee=p("Samtaleemne"),L=p(""),T=p([]),V=p([]);me(async()=>{const o=await fetch(x+"type").then(n=>n.json());for(let n=0;n<o.length;n++)M.value.push({name:o[n].name,id:o[n].type_id});const s=await fetch(x+"sex").then(n=>n.json());for(let n=0;n<s.length;n++)B.value.push({name:s[n].name,id:s[n].sex_id});const t=await fetch(x+"location").then(n=>n.json());for(let n=0;n<t.length;n++)J.value.push({id:t[n].location_id,name:t[n].name});const a=await fetch(x+"Education").then(n=>n.json());for(let n=0;n<a.length;n++)P.value.push({id:a[n].edu_id,name:a[n].name});const d=await fetch(x+"Subject").then(n=>n.json());for(let n=0;n<d.length;n++)T.value.push({id:d[n].subject_id,name:d[n].name,description:d[n].description});const b=await fetch(x+"Duration").then(n=>n.json());for(let n=0;n<b.length;n++)V.value.push({id:b[n].duration_id,name:b[n].length})});const te=F(()=>P.value.filter(o=>{for(let s=0;s<E.value.length;s++)if(E.value[s].id==o.id)return!1;return!0})),se=F(()=>te.value.filter(o=>o.name.toLowerCase().includes($.value.toLowerCase())));function oe(){return T.value.filter(o=>o.description.toLowerCase().includes(L.value.toLowerCase())||o.name.toLowerCase().includes(L.value.toLowerCase()))}function ne(o){S.setMonth(o.target.value),l.month=S.toISOString().substring(0,10)}function le(o){l.type=o,document.querySelectorAll(".form-group-1-2 .selected").forEach(t=>{t.classList.remove("selected")}),document.getElementById(o).classList.toggle("selected")}function ie(o){l.sex=o.id,document.querySelectorAll(".form-group-2-1 .selected").forEach(t=>{t.classList.remove("selected")}),document.getElementById(o.name).classList.toggle("selected")}function ae(o){l.niveau=o.id,document.querySelectorAll(".form-group-2-2 .selected").forEach(t=>{t.classList.remove("selected")}),document.getElementById(o.id).classList.toggle("selected")}function re(o){l.locations=o.id,document.querySelectorAll(".form-group-3-1 .selected").forEach(t=>{t.classList.remove("selected")}),document.getElementById(o.name).classList.toggle("selected")}function U(o){l.educations.includes(o.id)?l.educations=l.educations.filter(function(s){return s!==o.id}):l.educations.push(o.id),document.getElementById(o.name).classList.toggle("selected")}function ce(o){l.subject.includes(o.id)?l.subject=l.subject.filter(function(s){return T.value[o.id].isSelected=!1,s!==o.id}):(l.subject.push(o.id),T.value[o.index].isSelected=!0),document.getElementById(o.name).classList.toggle("selected")}function de(o){l.duration=o.id,document.querySelectorAll(".form-group-4-2 .selected").forEach(t=>{t.classList.remove("selected")}),document.getElementById(o.name).classList.toggle("selected")}function h(o){switch(o){case 1:const s=document.querySelector(".alert_1");l.type==""?(s.classList.add("alert"),location.href="#",location.href="#alert_1"):(v.value+=1,s.classList.remove("alert"));break;case 2:l.sex==""||l.niveau==""?l.sex==""?(document.querySelector(".alert_2").classList.add("alert"),location.href="#",location.href="#alert_2"):l.niveau==""&&(document.querySelector(".alert_3").classList.add("alert"),location.href="#",location.href="#alert_3"):(v.value+=1,document.querySelectorAll("alert").forEach(a=>{a.classList.remove("alert")}));break;case 3:l.locations==""||l.educations==""?l.locations==""?(document.querySelector(".alert_4").classList.add("alert"),location.href="#",location.href="#alert_4"):l.educations==""&&document.querySelector(".alert_5").classList.add("alert"):(v.value+=1,document.querySelectorAll("alert").forEach(a=>{a.classList.remove("alert")}));break}}function ue(){document.querySelector(".loadbtn").classList.toggle("loaded"),document.querySelector(".load").classList.toggle("displaynone")}function f(o){switch(document.querySelectorAll("button").forEach(t=>{t.classList.remove("alert")}),o){case 1:v.value=v.value-1;break;case 2:v.value=v.value-2;break;case 3:v.value=v.value-3;break}}async function _e(){var o=!(15<l.niveau);let s=0;if(l.subject==""||l.duration=="")l.subject==""?(document.querySelector(".alert_6").classList.add("alert"),location.href="#",location.href="#alert_6"):l.duration==""&&document.querySelector(".alert_7").classList.add("alert");else{v.value=0,document.querySelectorAll("alert").forEach(a=>{a.classList.remove("alert")});try{const a={case_id:0,month:l.month,name:"string",supervisor:"string",sex:"string",length:"string",education:"string",location:"string",subject:"string",user_id:l.user_id,sex_id:l.sex,duration_id:l.duration,type_id:l.type,edu_id:0,location_id:0,subject_id:0,primeEdu:1,niveau:o,nationality:!0},d={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};await fetch("https://uclssapitest.azurewebsites.net/api/Case",d).then(b=>b.json()).then(b=>{s=b.case_id})}catch{console.error("failed to post, case")}for(let a=0;a<l.educations.length;a++)try{const d={edu_id:l.educations[a],case_id:s},b={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)};await fetch(x+"EducationCase",b).then(n=>n)}catch{console.error("failed to post, Educations")}try{const a={location_id:l.locations,case_id:s},d={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};await fetch(x+"LocationCase",d).then(b=>b)}catch{console.error("failed to post, locations")}for(let a=0;a<l.subject.length;a++)try{const d={subject_id:l.subject[a],case_id:s},b={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)};await fetch(x+"SubjectCase",b).then(n=>n)}catch{console.error("failed to post, subjects")}v.value=1,window.location.href="/?succes=true"}}return(o,s)=>(u(),_("div",ge,[C(e("section",ye,[e("div",xe,[e("div",ke,[Ce,e("p",null,r(i(q)),1)]),e("div",{class:"2 bobble",onClick:s[0]||(s[0]=m(t=>h(1),["prevent"]))},[Se,e("p",null,r(i(A)),1)]),e("div",{class:"3 bobble",onClick:s[1]||(s[1]=m(t=>h(2),["prevent"]))},[Le,e("p",null,r(i(I)),1)]),e("div",{class:"4 bobble",onClick:s[2]||(s[2]=m(t=>h(3),["prevent"]))},[je,e("p",null,r(i(N)),1)])]),e("div",we,[e("h2",null,r(i(H)),1),e("div",$e,[e("select",{onChange:s[3]||(s[3]=t=>ne(t))},[(u(!0),_(g,null,y(i(O),t=>(u(),_("option",{class:"form-text",value:t.id},r(t.name),9,Ee))),256))],32)]),e("h2",null,r(i(Q)),1),qe,e("div",Ae,[(u(!0),_(g,null,y(i(M),t=>(u(),_("button",{class:"form-text",onClick:a=>le(t.id),id:t.id},r(t.name),9,Ie))),256))])]),e("div",Ne,[e("div",Te,[e("input",{href:"#sec-step",class:"form_btn button",type:"submit",value:"N\xE6ste",onClick:s[4]||(s[4]=m(t=>h(1),["prevent"]))})])])],512),[[j,i(v)===1]]),C(e("section",De,[e("div",Oe,[e("div",{class:"1 bobble active",onClick:s[5]||(s[5]=m(t=>f(1),["prevent"]))},[Me,e("p",null,r(i(q)),1)]),e("div",Be,[Je,e("p",null,r(i(A)),1)]),e("div",{class:"3 bobble",onClick:s[6]||(s[6]=m(t=>h(1),["prevent"]))},[Pe,e("p",null,r(i(I)),1)]),e("div",{class:"4 bobble",onClick:s[7]||(s[7]=m(t=>h(2),["prevent"]))},[Ve,e("p",null,r(i(N)),1)])]),e("h2",null,r(i(W)),1),Ue,e("div",Fe,[(u(!0),_(g,null,y(i(B),t=>(u(),_("button",{class:"form-text",onClick:a=>ie(t),id:t.name},r(t.name),9,ze))),256))]),e("h2",Re,r(i(X)),1),Ge,e("div",He,[(u(!0),_(g,null,y(i(Y),t=>(u(),_("button",{class:"form-text",onClick:a=>ae(t),id:t.id},r(t.name),9,Ke))),256))]),e("div",Qe,[e("div",We,[e("input",{class:"form_btn button back",type:"submit",value:"Tilbage",onClick:s[8]||(s[8]=m(t=>f(1),["prevent"]))})]),Xe,e("div",Ye,[e("input",{class:"form_btn button next",type:"submit",value:"N\xE6ste",onClick:s[9]||(s[9]=m(t=>h(2),["prevent"]))})])])],512),[[j,i(v)===2]]),C(e("section",Ze,[e("div",et,[e("div",{class:"1 bobble active",onClick:s[10]||(s[10]=m(t=>f(2),["prevent"]))},[tt,e("p",null,r(i(q)),1)]),e("div",{class:"2 bobble active",onClick:s[11]||(s[11]=m(t=>f(1),["prevent"]))},[st,e("p",null,r(i(A)),1)]),e("div",ot,[nt,e("p",null,r(i(I)),1)]),e("div",{class:"4 bobble",onClick:s[12]||(s[12]=m(t=>h(1),["prevent"]))},[lt,e("p",null,r(i(N)),1)])]),e("h2",null,r(i(Z)),1),it,e("div",at,[(u(!0),_(g,null,y(i(J),t=>(u(),_("button",{class:z(["form-text",{selected:t.id==i(l).locations}]),id:t.name,onClick:a=>re(t)},r(t.name),11,rt))),256))]),ct,dt,e("div",ut,[(u(!0),_(g,null,y(i(E),t=>(u(),_("div",{key:t},[e("button",{class:"form-text",onClick:a=>U(t),id:t.name},r(t.name),9,_t),pt]))),128))]),e("div",mt,[C(e("input",{class:"form-text",type:"text","onUpdate:modelValue":s[13]||(s[13]=t=>R($)?$.value=t:$=t),placeholder:"S\xF8g efter uddannelser..."},null,512),[[G,i($)]])]),e("div",vt,[(u(!0),_(g,null,y(i(se),t=>(u(),_("button",{class:"form-text",id:t.name,key:t,onClick:a=>U(t)},r(t.name),9,bt))),128))]),e("span",{class:"load",onClick:s[14]||(s[14]=t=>ue())},"Indl\xE6s mere"),e("div",ht,[e("div",ft,[e("input",{class:"form_btn button back",type:"submit",value:"Tilbage",onClick:s[15]||(s[15]=m(t=>f(1),["prevent"]))})]),gt,e("div",yt,[e("input",{class:"form_btn button next",type:"submit",value:"N\xE6ste",onClick:s[16]||(s[16]=m(t=>h(3),["prevent"]))})])])],512),[[j,i(v)===3]]),C(e("div",xt,St,512),[[j,i(v)===0]]),C(e("section",Lt,[e("div",jt,[e("div",{class:"1 bobble active",onClick:s[17]||(s[17]=m(t=>f(3),["prevent"]))},[wt,e("p",null,r(i(q)),1)]),e("div",{class:"2 bobble active",onClick:s[18]||(s[18]=m(t=>f(2),["prevent"]))},[$t,e("p",null,r(i(A)),1)]),e("div",{class:"3 bobble active",onClick:s[19]||(s[19]=m(t=>f(1),["prevent"]))},[Et,e("p",null,r(i(I)),1)]),e("div",qt,[At,e("p",null,r(i(N)),1)])]),e("h2",null,r(i(ee)),1),e("div",It,[C(e("input",{class:"form-text",type:"text","onUpdate:modelValue":s[20]||(s[20]=t=>R(L)?L.value=t:L=t),placeholder:"S\xF8g efter emner..."},null,512),[[G,i(L)]])]),Nt,e("div",Tt,[(u(!0),_(g,null,y(oe(),(t,a)=>(u(),_("div",Dt,[C(e("p",Ot,[ve("i"),e("span",Mt,r(t.description),1)],512),[[j,t.description]]),(u(),_("button",{class:z(["form-text",{selected:t.isSelected}]),id:t.name,key:t,onClick:d=>ce({...t,index:a})},r(t.name),11,Bt))]))),256))]),Jt,Pt,e("div",Vt,[(u(!0),_(g,null,y(i(V),t=>(u(),_("button",{class:"form-text",id:t.name,onClick:a=>de(t)},r(t.name),9,Ut))),256))]),e("div",Ft,[e("div",zt,[e("input",{class:"form_btn button back",type:"submit",value:"Tilbage",onClick:s[21]||(s[21]=m(t=>f(1),["prevent"]))})]),Rt,e("div",Gt,[e("input",{class:"form_btn button next",type:"submit",value:"N\xE6ste",onClick:s[22]||(s[22]=m(t=>_e(),["prevent"]))})])])],512),[[j,i(v)===4]])]))}},Kt=pe(Ht,[["__scopeId","data-v-7a7a3c5e"]]),Xt={__name:"NewcaseView",setup(w){return(k,v)=>(u(),_("div",null,[e("h1",null,[fe(Kt)])]))}};export{Xt as default};
